[{"/home/melodyleoard/Documents/projects/chats/client/src/reportWebVitals.js":"1","/home/melodyleoard/Documents/projects/chats/client/src/App.js":"2","/home/melodyleoard/Documents/projects/chats/client/src/index.js":"3","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/ApolloProvider.js":"4","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/mutations/user.js":"5","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/client.js":"6","/home/melodyleoard/Documents/projects/chats/client/src/pages/auth/Login.jsx":"7","/home/melodyleoard/Documents/projects/chats/client/src/pages/auth/Register.jsx":"8","/home/melodyleoard/Documents/projects/chats/client/src/pages/Home.jsx":"9","/home/melodyleoard/Documents/projects/chats/client/src/pages/auth/index.jsx":"10","/home/melodyleoard/Documents/projects/chats/client/src/router/index.jsx":"11","/home/melodyleoard/Documents/projects/chats/client/src/helpers/Typography.js":"12","/home/melodyleoard/Documents/projects/chats/client/src/context/authentication/authReducer.js":"13","/home/melodyleoard/Documents/projects/chats/client/src/context/authentication/authContext.js":"14","/home/melodyleoard/Documents/projects/chats/client/src/context/authentication/authState.js":"15","/home/melodyleoard/Documents/projects/chats/client/src/context/types.js":"16","/home/melodyleoard/Documents/projects/chats/client/src/router/DynamicRoute.js":"17","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/queries/user.js":"18","/home/melodyleoard/Documents/projects/chats/client/src/Components/Spinner.jsx":"19","/home/melodyleoard/Documents/projects/chats/client/src/libs/reduceLastMessage.js":"20","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/queries/messages.js":"21","/home/melodyleoard/Documents/projects/chats/client/src/Components/home/Users.js":"22","/home/melodyleoard/Documents/projects/chats/client/src/Components/home/Messages.js":"23","/home/melodyleoard/Documents/projects/chats/client/src/context/message/messageContext.js":"24","/home/melodyleoard/Documents/projects/chats/client/src/context/message/messageState.js":"25","/home/melodyleoard/Documents/projects/chats/client/src/context/message/messageReducer.js":"26","/home/melodyleoard/Documents/projects/chats/client/src/Components/home/Message.js":"27","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/mutations/message.js":"28","/home/melodyleoard/Documents/projects/chats/client/src/Components/Navbar.jsx":"29","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/subscriptions/message.js":"30","/home/melodyleoard/Documents/projects/chats/client/src/Apollo/mutations/reaction.js":"31"},{"size":362,"mtime":1612144732043,"results":"32","hashOfConfig":"33"},{"size":561,"mtime":1612833819873,"results":"34","hashOfConfig":"33"},{"size":645,"mtime":1613185230368,"results":"35","hashOfConfig":"36"},{"size":204,"mtime":1612556284165,"results":"37","hashOfConfig":"36"},{"size":707,"mtime":1612619125610,"results":"38","hashOfConfig":"33"},{"size":1139,"mtime":1613283958306,"results":"39","hashOfConfig":"33"},{"size":4660,"mtime":1613287873907,"results":"40","hashOfConfig":"33"},{"size":4422,"mtime":1612814631586,"results":"41","hashOfConfig":"33"},{"size":1358,"mtime":1613287565896,"results":"42","hashOfConfig":"33"},{"size":442,"mtime":1612811443729,"results":"43","hashOfConfig":"36"},{"size":392,"mtime":1612811398420,"results":"44","hashOfConfig":"33"},{"size":76,"mtime":1612616813030,"results":"45","hashOfConfig":"36"},{"size":464,"mtime":1612811795178,"results":"46","hashOfConfig":"36"},{"size":141,"mtime":1612833384868,"results":"47","hashOfConfig":"33"},{"size":1209,"mtime":1615753706732,"results":"48","hashOfConfig":"33"},{"size":250,"mtime":1613189943456,"results":"49","hashOfConfig":"33"},{"size":550,"mtime":1612811753930,"results":"50","hashOfConfig":"36"},{"size":253,"mtime":1612821769699,"results":"51","hashOfConfig":"33"},{"size":156,"mtime":1612814676679,"results":"52","hashOfConfig":"33"},{"size":144,"mtime":1613188356674,"results":"53","hashOfConfig":"33"},{"size":215,"mtime":1613810782021,"results":"54","hashOfConfig":"36"},{"size":2821,"mtime":1615754910475,"results":"55","hashOfConfig":"33"},{"size":3242,"mtime":1613286503071,"results":"56","hashOfConfig":"33"},{"size":147,"mtime":1612833420200,"results":"57","hashOfConfig":"33"},{"size":1469,"mtime":1613286989835,"results":"58","hashOfConfig":"33"},{"size":1645,"mtime":1613288132132,"results":"59","hashOfConfig":"33"},{"size":3082,"mtime":1613789082184,"results":"60","hashOfConfig":"33"},{"size":250,"mtime":1613191962869,"results":"61","hashOfConfig":"33"},{"size":801,"mtime":1615755296285,"results":"62","hashOfConfig":"33"},{"size":190,"mtime":1613285876299,"results":"63","hashOfConfig":"36"},{"size":227,"mtime":1613788207056,"results":"64","hashOfConfig":"33"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},"1yet00x",{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"iuldh3",{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"67"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"67"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"106"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/melodyleoard/Documents/projects/chats/client/src/reportWebVitals.js",[],["136","137"],"/home/melodyleoard/Documents/projects/chats/client/src/App.js",["138"],"/home/melodyleoard/Documents/projects/chats/client/src/index.js",[],["139","140"],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/ApolloProvider.js",[],["141","142"],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/mutations/user.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/client.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/pages/auth/Login.jsx",[],"/home/melodyleoard/Documents/projects/chats/client/src/pages/auth/Register.jsx",[],"/home/melodyleoard/Documents/projects/chats/client/src/pages/Home.jsx",["143"],"import React, {\n  Fragment,\n  useEffect,\n  useContext,\n} from \"react\";\nimport { Row } from \"react-bootstrap\";\nimport Users from \"../Components/home/Users\";\nimport Messages from \"../Components/home/Messages\";\nimport AppNavbar from \"../Components/Navbar\";\nimport { useSubscription } from \"@apollo/client\";\nimport { AuthStateContext } from \"../context/authentication/authContext\";\nimport { NEW_MESSAGE } from \"../Apollo/subscriptions/message\";\nimport { MessageDispatchContext } from \"../context/message/messageContext\";\n\nconst Home = () => {\n  const authStateContext = useContext(AuthStateContext);\n\n  const { user } = authStateContext;\n\n  const messageDispatchContext = useContext(\n    MessageDispatchContext\n  );\n\n  const { sendMessageDisatch } = messageDispatchContext;\n\n  const {\n    data: messageData,\n    error: messageError,\n  } = useSubscription(NEW_MESSAGE);\n\n  useEffect(() => {\n    if (messageError) console.log(messageError);\n    if (messageData) {\n      const message = messageData.newMessage;\n      const otherUser =\n        user.username === message.to\n          ? message.from\n          : message.to;\n      sendMessageDisatch(otherUser, message);\n    }\n  }, [messageData, messageError]);\n\n  return (\n    <Fragment>\n      <AppNavbar />\n      <Row>\n        <Users />\n        <Messages />\n      </Row>\n    </Fragment>\n  );\n};\n\nexport default Home;\n","/home/melodyleoard/Documents/projects/chats/client/src/pages/auth/index.jsx",[],"/home/melodyleoard/Documents/projects/chats/client/src/router/index.jsx",[],["144","145"],"/home/melodyleoard/Documents/projects/chats/client/src/helpers/Typography.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/context/authentication/authReducer.js",[],["146","147"],"/home/melodyleoard/Documents/projects/chats/client/src/context/authentication/authContext.js",[],["148","149"],"/home/melodyleoard/Documents/projects/chats/client/src/context/authentication/authState.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/context/types.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/router/DynamicRoute.js",[],["150","151"],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/queries/user.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Components/Spinner.jsx",[],"/home/melodyleoard/Documents/projects/chats/client/src/libs/reduceLastMessage.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/queries/messages.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Components/home/Users.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Components/home/Messages.js",["152","153","154"],"//default files\nimport React, {\n  useEffect,\n  useContext,\n  useState,\n  Fragment,\n} from \"react\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { Col, Form } from \"react-bootstrap\";\n\n// custom files\nimport { GET_MESSAGES } from \"../../Apollo/queries/messages\";\nimport Spinner from \"../Spinner\";\nimport Message from \"./Message\";\n\n//context\nimport {\n  MessageStateContext,\n  MessageDispatchContext,\n} from \"../../context/message/messageContext\";\nimport { SEND_MESSAGE } from \"../../Apollo/mutations/message\";\n\nconst Messages = () => {\n  const messageStateContext = useContext(\n    MessageStateContext\n  );\n  const messageDispatchContext = useContext(\n    MessageDispatchContext\n  );\n\n  const {\n    setUserMessageDispatcher,\n    sendMessageDisatch,\n  } = messageDispatchContext;\n  const { users } = messageStateContext;\n  const [content, setContent] = useState(\"\");\n\n  const selectedUser = users?.find(\n    (u) => u.selected === true\n  );\n  const messages = selectedUser?.messages;\n\n  // query\n  const [\n    getMessages,\n    { loading, data: messagesData },\n  ] = useLazyQuery(GET_MESSAGES);\n\n  // mutation\n  const [sendMessage] = useMutation(SEND_MESSAGE, {\n    onError: (err) => console.log(err),\n  });\n\n  //submitHandler\n  const sendMessageHandler = (e) => {\n    e.preventDefault();\n    if (content.trim() === \"\" || !selectedUser) return;\n\n    //clear input\n    setContent(\"\");\n\n    // mutation to send message\n    sendMessage({\n      variables: {\n        to: selectedUser.username,\n        content: content.trim(),\n      },\n    });\n  };\n\n  //useEffects\n  useEffect(() => {\n    if (selectedUser && !selectedUser.messages) {\n      getMessages({\n        variables: { from: selectedUser.username },\n      });\n    }\n  }, [selectedUser]);\n\n  useEffect(() => {\n    if (messagesData) {\n      setUserMessageDispatcher(selectedUser, messagesData);\n    }\n  }, [messagesData]);\n\n  let selectedChatMarkup;\n  if (!messages && !loading) {\n    selectedChatMarkup = (\n      <p>Choose a friend to start chatting with</p>\n    );\n  } else if (loading) {\n    selectedChatMarkup = <Spinner />;\n  } else if (messages.length > 0) {\n    selectedChatMarkup = messages.map((message, index) => (\n      <Fragment key={message.uuid}>\n        <Message message={message} />\n        {index === messages.length - 1 && (\n          <div className=\"invisible\">\n            <hr className=\"m-0\" />\n          </div>\n        )}\n      </Fragment>\n    ));\n  } else if (messages.length === 0) {\n    selectedChatMarkup = (\n      <p className=\"info-text\">\n        You are no connected. You can now start chatting{\" \"}\n      </p>\n    );\n  }\n\n  return (\n    <Col className=\"message-container\" xs={9} md={8}>\n      <div className=\"messages-box d-flex flex-column-reverse\">\n        {selectedChatMarkup}\n      </div>\n      <div>\n        <Form onSubmit={sendMessageHandler}>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              className=\"message-input rounded-pill bg-secondary border-0\"\n              placeholder=\"start typing...\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          </Form.Group>\n        </Form>\n      </div>\n    </Col>\n  );\n};\n\nexport default Messages;\n","/home/melodyleoard/Documents/projects/chats/client/src/context/message/messageContext.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/context/message/messageState.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/context/message/messageReducer.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Components/home/Message.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/mutations/message.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Components/Navbar.jsx",["155","156","157","158"],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/subscriptions/message.js",[],"/home/melodyleoard/Documents/projects/chats/client/src/Apollo/mutations/reaction.js",[],{"ruleId":"159","replacedBy":"160"},{"ruleId":"161","replacedBy":"162"},{"ruleId":"163","severity":1,"message":"164","line":2,"column":10,"nodeType":"165","messageId":"166","endLine":2,"endColumn":19},{"ruleId":"159","replacedBy":"167"},{"ruleId":"161","replacedBy":"168"},{"ruleId":"159","replacedBy":"169"},{"ruleId":"161","replacedBy":"170"},{"ruleId":"171","severity":1,"message":"172","line":41,"column":6,"nodeType":"173","endLine":41,"endColumn":33,"suggestions":"174"},{"ruleId":"159","replacedBy":"175"},{"ruleId":"161","replacedBy":"176"},{"ruleId":"159","replacedBy":"177"},{"ruleId":"161","replacedBy":"178"},{"ruleId":"159","replacedBy":"179"},{"ruleId":"161","replacedBy":"180"},{"ruleId":"159","replacedBy":"181"},{"ruleId":"161","replacedBy":"182"},{"ruleId":"163","severity":1,"message":"183","line":33,"column":5,"nodeType":"165","messageId":"166","endLine":33,"endColumn":23},{"ruleId":"171","severity":1,"message":"184","line":78,"column":6,"nodeType":"173","endLine":78,"endColumn":20,"suggestions":"185"},{"ruleId":"171","severity":1,"message":"186","line":84,"column":6,"nodeType":"173","endLine":84,"endColumn":20,"suggestions":"187"},{"ruleId":"163","severity":1,"message":"188","line":5,"column":3,"nodeType":"165","messageId":"166","endLine":5,"endColumn":14},{"ruleId":"163","severity":1,"message":"189","line":6,"column":3,"nodeType":"165","messageId":"166","endLine":6,"endColumn":8},{"ruleId":"163","severity":1,"message":"190","line":9,"column":3,"nodeType":"165","messageId":"166","endLine":9,"endColumn":9},{"ruleId":"163","severity":1,"message":"191","line":19,"column":9,"nodeType":"165","messageId":"166","endLine":19,"endColumn":22},"no-native-reassign",["192"],"no-negated-in-lhs",["193"],"no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar",["192"],["193"],["192"],["193"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'sendMessageDisatch' and 'user.username'. Either include them or remove the dependency array.","ArrayExpression",["194"],["192"],["193"],["192"],["193"],["192"],["193"],["192"],["193"],"'sendMessageDisatch' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getMessages'. Either include it or remove the dependency array.",["195"],"React Hook useEffect has missing dependencies: 'selectedUser' and 'setUserMessageDispatcher'. Either include them or remove the dependency array.",["196"],"'NavDropdown' is defined but never used.","'Image' is defined but never used.","'Button' is defined but never used.","'logoutHandler' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"197","fix":"198"},{"desc":"199","fix":"200"},{"desc":"201","fix":"202"},"Update the dependencies array to be: [messageData, messageError, sendMessageDisatch, user.username]",{"range":"203","text":"204"},"Update the dependencies array to be: [getMessages, selectedUser]",{"range":"205","text":"206"},"Update the dependencies array to be: [messagesData, selectedUser, setUserMessageDispatcher]",{"range":"207","text":"208"},[1171,1198],"[messageData, messageError, sendMessageDisatch, user.username]",[1739,1753],"[getMessages, selectedUser]",[1872,1886],"[messagesData, selectedUser, setUserMessageDispatcher]"]